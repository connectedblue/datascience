{
    "contents" : "best <- function(state, outcome) {\n  ## Read outcome data\n  hdata<-read.csv(\"outcome-of-care-measures.csv\", colClasses=\"character\")\n  \n  # Rename state column to make it easier to reference later\n  colnames(hdata)[7]<-\"State\"\n  \n  ## Check that state and outcome are valid\n  \n  # Get a list of valid states from the data, remove duplicates\n  states<-unique(hdata$State)\n  \n  # Mapping of correct outcome string to column number in hdata table\n  outcomes<-data.frame(Cause=c(\"heart attack\", \"heart failure\", \"pneumonia\"), Outcome_Col=c(11,17,23))\n  \n  # Check each input parameter for invalid values, stop with an error message if invalid\n  if (!(state %in% states) ) {\n    stop (\"invalid state\")\n  }\n  if (!(outcome %in% outcomes$Cause)) {\n    stop (\"invalid outcome\")\n  }\n  \n  ## Return hospital name in that state with lowest 30-day death\n  ## rate\n  # work out which column in the hdata corresponds to the requested outcome\n  outcome_col<-outcomes[outcomes$Cause==outcome,]$Outcome_Col\n  \n  # select the subset of records from hdata for the state and set the column names\n  state_outcomes<-subset(hdata, hdata$State==state, select=c(2,outcome_col))\n  colnames(state_outcomes)<-c(\"Hospital\", \"Outcome\")\n  \n  # Make outcome column numeric, remove NAs and sort by Outcome and Hospital name\n  state_outcomes[,2]<-as.numeric(state_outcomes[,2])\n  state_outcomes<-na.omit(state_outcomes)\n  state_outcomes<-state_outcomes[order(state_outcomes$Outcome,state_outcomes$Hospital),]\n  \n  # First item is the hospital with the best outcomes\n  state_outcomes[[1,1]]\n}",
    "created" : 1454251993940.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1092130056",
    "id" : "4042B649",
    "lastKnownWriteTime" : 1454255569,
    "path" : "C:/Users/cs/Dropbox/Connected Blue/Training/data science/git/datascience/R-Programming/week 4/rprog-data-ProgAssignment3-data/best.R",
    "project_path" : "rprog-data-ProgAssignment3-data/best.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "type" : "r_source"
}